<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sweetleaf & Co. - Southwest Teas</title>
  <link rel="stylesheet" href="static/bootstrap.min.css">
  <link rel="stylesheet" href="static/sweetleaf.css">
  <link rel="icon" href="static/assets/favicon.jpg">
  <link rel="manifest" href="static/manifest.json">
  <meta name="theme-color" content="#3c5d47">
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("static/service-worker.js");
    }
  </script>
  <style>
    body {
      background-color: #f9f6f2;
      font-family: 'Segoe UI', sans-serif;
    }
    .hero {
      background-image: url('static/assets/hero.jpg');
      background-size: cover;
      background-position: center;
      height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 2.5rem;
      font-weight: bold;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    .product-card img {
      height: 200px;
      object-fit: cover;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-light bg-light px-3">
  <div class="container-fluid d-flex justify-content-end">
    <a class="btn btn-outline-success me-2" href="index.html">Home</a>
    <a class="btn btn-outline-success me-2" href="cart.html">Cart</a>
    <a class="btn btn-outline-success me-2" href="contact.html">Contact Us</a>
    <a class="btn btn-outline-success" href="login.html">Login</a>
  </div>
</nav>

<div class="hero">Sweetleaf & Co.</div>
<div class="container mt-5">
  <h2 class="text-center mb-4">Explore Our Flavors</h2>
  <div class="row" id="product-row">
    <!-- Products will load here -->
  </div>
</div>

<script>
  fetch("https://zoemartinez1.pythonanywhere.com/api/products")
    .then(response => response.json())
    .then(products => {
      const row = document.getElementById("product-row");
      row.innerHTML = "";

      products.forEach(product => {
        row.innerHTML += `
          <div class="col-md-3">
            <div class="card product-card">
              <img src="${product.image_url}" class="card-img-top" alt="${product.name}">
              <div class="card-body text-center">
                <h5 class="card-title">${product.name}</h5>
                <p>$${product.price.toFixed(2)}</p>
                <a href="show_product_${product.id}.html" class="btn btn-success">View</a>
              </div>
            </div>
          </div>
        `;
      });
    })
    .catch(error => {
      document.getElementById("product-row").innerHTML = "<p class='text-center'>Failed to load products.</p>";
      console.error("Error fetching products:", error);
    });
</script>

</body>
</html>
